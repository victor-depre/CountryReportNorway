---
title: "Rapport"
author: "Victor"
date: "1/22/2020"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

///MAP///

```{r}
library(sf)
library(ggplot2)
library(tmap)
library(tmaptools)
library(leaflet)
library(dplyr)

mydata <- readr::read_csv("Density per Fylker.csv")

mymap <- st_read("NORWAY SHAPE/NOR_adm1.shp", stringsAsFactors = FALSE)

datamap <- inner_join(mymap, mydata)

tm_shape(datamap) +
  tm_polygons("Density", id = "NAME_1", palette = "Blues")

#tmap_mode("view")
DensityMap <- tmap_last()

#tmap_save(DensityMap, "DensityMap.html")

```


```{r}

DensityMap1 <- ifelse(DensityMap$Density >= 1 & DensityMap$Density <= 5, "1-5", ifelse(DensityMap$Density >= 6 & DensityMap$Density <= 10, "6-10", ifelse(DensityMap$Density >= 11 & DensityMap$Density <= 20, "11-20", ifelse(DensityMap$Density >= 21 & DensityMap$Density <= 50, "21-50", ifelse(DensityMap$Density >= 51 & DensityMap$Density <= 100, "51-100", ifelse(DensityMap$Density >= 101 & DensityMap$Density <= 200, "101-200", ifelse(DensityMap$Density >= 201 & DensityMap$Density <= 500, "201-500", ifelse(DensityMap$Density >= 501, "501+", NA))))))))
DensityMap1
```


```{r}

cut(DensityMap$Density, breaks=c(0, 5, 10, 20, 50, 100, 200, 500, Inf), labels=c("0-5", "6-10", "11-20", "21-50", "51-100", "101-500", "500+"))

```


///GRAPHS///


```{r}

library(WDI)
library(ggplot2)
library(plotly)

gdpIL <- WDI(indicator = "NY.GDP.MKTP.CD", country = c("IL","JO","LB","EG","SY"), start = 2009, end = 2018)
gdpIL <- dplyr::rename(gdpIL, GPD = NY.GDP.MKTP.CD)


graph <- ggplot(gdpIL, aes(x=year, y= GPD, group= country)) + 
  geom_line(aes(linetype=country, color=country), size=1) +
  geom_point(colour = "purple") + 
  xlab("Years") + ylab("GDP US$") +
  ggtitle("GDP (current US$)") +
  hrbrthemes::theme_ipsum_tw()
graph <- ggplotly(graph)
graph

```







